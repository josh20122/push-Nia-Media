"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[996,38],{4038:(t,e,r)=>{r.r(e),r.d(e,{default:()=>Z});var n=r(1095),o=r(7960),a=r(5078),l=r(3408),i=r(6944),s=r(8176),c=r(2570),u=r(4786),d=r(7763),f=r(2545),p=r(3347),m=r(8208),v=r(5054),h=r(3560),b=r(5091),_=r(8097),g=r(2515);const y={props:["shared"],data:function(){return{drawer:!1,userLinks:[{name:"All Articles",icon:"mdi-format-align-center",link:"/user/blog"},{name:"Create Article",icon:"mdi-format-annotation-plus",link:"/user/blog/create"},{name:"My Profile",icon:"mdi-account-circle",link:"/user/my-profile"},{name:"All Users",icon:"mdi-account-multiple",link:"/admin/users"},{name:"All Tags",icon:"mdi-brightness-auto",link:"/admin/tags"}]}}};const Z=(0,r(1900).Z)(y,(function(){var t=this,e=t._self._c;return e(n.Z,[e(_.Z,{attrs:{color:"drawer",permanent:t.$vuetify.breakpoint.lgAndUp,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e(f.Z,[e(p.Z,{},[e(m.Z,[e(l.Z,[e(d.Z,{attrs:{src:"/images/logo.jpg"}})],1)],1),t._v(" "),e(v.km,[e(v.V9,[e("span",{staticClass:"white--text font-semibold text-xl"},[t._v(" Nia Media ")])])],1)],1),t._v(" "),e(s.Z,{}),t._v(" "),t._l(t.userLinks,(function(r,n){return e(p.Z,{key:n},[e("Link",{staticClass:"white--text",attrs:{href:r.link}},[e(h.Z,[e(u.Z,{attrs:{color:"white"},domProps:{textContent:t._s(r.icon)}})],1)],1),t._v(" "),e(v.km,[e("Link",{staticClass:"white--text no-underline",attrs:{href:r.link}},[e(v.V9,{staticClass:"white--text",domProps:{textContent:t._s(r.name)}})],1)],1)],1)}))],2)],1),t._v(" "),e(o.Z,{attrs:{app:"","hide-on-scroll":"",color:"nav"}},[t.$vuetify.breakpoint.lgAndUp?t._e():e(a.Z,{staticClass:"white--text",on:{click:function(e){t.drawer=!t.drawer}}}),t._v(" "),e(g.Z),t._v(" "),e("Link",{attrs:{href:"/auth/logout"}},[e(i.Z,{attrs:{elevation:"",icon:"",color:""}},[e(u.Z,{attrs:{color:"white"}},[t._v("mdi-logout")])],1)],1),t._v(" "),e(l.Z,[e("img",{attrs:{src:t.shared.user.auth.avatarPath,alt:""}})])],1),t._v(" "),e(b.Z,[t._t("default")],2),t._v(" "),e(c.Z,{attrs:{app:""}})],1)}),[],!1,null,null,null).exports},5996:(t,e,r)=>{r.r(e),r.d(e,{default:()=>g});var n=r(6944),o=r(7024),a=r(1819),l=r(4786),i=r(7894),s=r(4317),c=r(8269),u=r(9680),d=r(4038),f=r(6486);function p(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const _={props:["blogs","filter"],data:function(){return{search:this.filter,loadedBlogs:this.blogs}},layout:d.default,methods:{status:function(t){u.Inertia.put("/admin/blog/status",{status:t})},destroy:function(t,e){u.Inertia.post("/user/blog/trash/"+t,null,{onBefore:function(){confirm("Are you sure you want to delete "+e)}})}},watch:{search:(0,f.debounce)((function(t){var e=this;u.Inertia.get("/user/blog",{search:t},{replace:!0,preserveScroll:!0,preserveState:!0,onSuccess:function(){e.loadedBlogs=e.blogs}})}),200)},mounted:function(){var t=this;window.addEventListener("scroll",(0,f.debounce)((function(e){document.documentElement.offsetHeight-document.documentElement.scrollTop-window.innerHeight<500&&axios.get(t.loadedBlogs.next_page_url).then((function(e){t.loadedBlogs=h(h({},e.data),{},{data:[].concat(p(t.loadedBlogs.data),p(e.data.data))})}))}),100))}};const g=(0,r(1900).Z)(_,(function(){var t=this,e=t._self._c;return e(a.Z,{},[e(i.Z,[e(o.Z,[e("div",{staticClass:"display-1"},[t._v("All Articles")])])],1),t._v(" "),e(i.Z,[e(o.Z,{attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[e(c.Z,{attrs:{type:"","error-count":"",placeholder:" Search ..",dense:"",label:"","prepend-inner-icon":"mdi-magnify",outlined:"",color:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),e(i.Z,[e(o.Z,[e(s.Z,{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",[t._v("Blog Title")]),t._v(" "),e("th",[t._v("Created at")]),t._v(" "),e("th",[t._v("Updated At")]),t._v(" "),e("th",[t._v("Published")]),t._v(" "),e("th",[t._v("Action")])])]),t._v(" "),e("tbody",t._l(t.loadedBlogs.data,(function(r,o){return e("tr",{key:o},[e("td",[e("Link",{staticClass:"no-underline text-black",attrs:{href:"/blog/"+r.slug}},[e("span",{staticClass:"no-underline text-black",domProps:{textContent:t._s(r.title)}})])],1),t._v(" "),e("td",[t._v("\n                "+t._s(t._f("moment")(r.created_at,"calendar"))+"\n              ")]),t._v(" "),e("td",[t._v("\n                "+t._s(t._f("moment")(r.updated_at,"calendar"))+"\n              ")]),t._v(" "),e("td",[e(n.Z,{attrs:{"x-small":"",elevation:"",rounded:"",outlined:"",color:r.published?"success":"error"}},[t._v("\n                  "+t._s(r.published?"Published":"unpublished")+"\n                ")])],1),t._v(" "),e("td",[e("div",{staticClass:"flex space-x-3"},[e(n.Z,{attrs:{outlined:"",elevation:"",icon:"",color:""},on:{click:function(e){return t.destroy(r.id,r.title)}}},[e(l.Z,{attrs:{color:"error"}},[t._v("mdi-delete")])],1),t._v(" "),e("Link",{attrs:{href:"/user/blog/".concat(r.id,"/edit")}},[e(n.Z,{attrs:{elevation:"",outlined:"",color:"primary",rounded:"",icon:""}},[e(l.Z,{attrs:{color:"primary"}},[t._v(" mdi-pencil ")])],1)],1)],1)])])})),0)]},proxy:!0}])})],1)],1)],1)}),[],!1,null,null,null).exports}}]);