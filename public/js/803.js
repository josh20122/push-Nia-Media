"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[803,38],{4038:(t,e,s)=>{s.r(e),s.d(e,{default:()=>x});var r=s(1095),o=s(7960),a=s(5078),l=s(3408),i=s(6944),n=s(8176),c=s(2570),u=s(4786),d=s(7763),m=s(2545),p=s(3347),g=s(8208),v=s(5054),f=s(3560),h=s(5091),_=s(8097),b=s(2515);const Z={props:["shared"],data:function(){return{drawer:!1,userLinks:[{name:"All Articles",icon:"mdi-format-align-center",link:"/user/blog"},{name:"Create Article",icon:"mdi-format-annotation-plus",link:"/user/blog/create"},{name:"My Profile",icon:"mdi-account-circle",link:"/user/my-profile"},{name:"All Users",icon:"mdi-account-multiple",link:"/admin/users"},{name:"All Tags",icon:"mdi-brightness-auto",link:"/admin/tags"}]}}};const x=(0,s(1900).Z)(Z,(function(){var t=this,e=t._self._c;return e(r.Z,[e(_.Z,{attrs:{color:"drawer",permanent:t.$vuetify.breakpoint.lgAndUp,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e(m.Z,[e(p.Z,{},[e(g.Z,[e(l.Z,[e(d.Z,{attrs:{src:"/images/logo.jpg"}})],1)],1),t._v(" "),e(v.km,[e(v.V9,[e("span",{staticClass:"white--text font-semibold text-xl"},[t._v(" Nia Media ")])])],1)],1),t._v(" "),e(n.Z,{}),t._v(" "),t._l(t.userLinks,(function(s,r){return e(p.Z,{key:r},[e("Link",{staticClass:"white--text",attrs:{href:s.link}},[e(f.Z,[e(u.Z,{attrs:{color:"white"},domProps:{textContent:t._s(s.icon)}})],1)],1),t._v(" "),e(v.km,[e("Link",{staticClass:"white--text no-underline",attrs:{href:s.link}},[e(v.V9,{staticClass:"white--text",domProps:{textContent:t._s(s.name)}})],1)],1)],1)}))],2)],1),t._v(" "),e(o.Z,{attrs:{app:"","hide-on-scroll":"",color:"nav"}},[t.$vuetify.breakpoint.lgAndUp?t._e():e(a.Z,{staticClass:"white--text",on:{click:function(e){t.drawer=!t.drawer}}}),t._v(" "),e(b.Z),t._v(" "),e("Link",{attrs:{href:"/auth/logout"}},[e(i.Z,{attrs:{elevation:"",icon:"",color:""}},[e(u.Z,{attrs:{color:"white"}},[t._v("mdi-logout")])],1)],1),t._v(" "),e(l.Z,[e("img",{attrs:{src:t.shared.user.auth.avatarPath,alt:""}})])],1),t._v(" "),e(h.Z,[t._t("default")],2),t._v(" "),e(c.Z,{attrs:{app:""}})],1)}),[],!1,null,null,null).exports},6803:(t,e,s)=>{s.r(e),s.d(e,{default:()=>_});var r=s(6944),o=s(7024),a=s(1819),l=s(7067),i=s(3240),n=s(4786),c=s(7763),u=s(7894),d=s(8885),m=s(1566),p=s(8269),g=s(4038),v=s(2739),f=s(9680);const h={props:["errors","blog","imagePath"],layout:g.default,components:{VueEditor:v.bR},data:function(){return{valid:!1,required:[function(t){return!!t||"This field is required"}],form:{_method:"put",content:this.blog.content,image:null,title:this.blog.title,status:this.blog.published?1:0},color:null,text:null,published:[{status:"Published",value:!0},{status:"Not Published",value:!1}],processing:!1,timeout:null,loading:!1,redirect:!1}},watch:{redirect:function(){f.Inertia.get("/user/blog")}},methods:{update:function(){var t=this;f.Inertia.post("/user/blog/".concat(this.blog.id),this.form,{forceFormData:!0,preserveScroll:!0,preserveState:!0,onStart:function(){t.loading=!0,t.processing=!0,t.color="yellow darken-1",t.timeout=100003663,t.text="Update in progress, please wait.."},onSuccess:function(){t.loading=!1,t.text="Update Success",t.processing=!1,t.color="green darken-1",t.timeout=4e3,t.redirect=!0},onError:function(){t.loading=!1,t.timeout=3e3,t.color="error",t.text="Failed, please check for any errors",t.processing=!1}})}}};const _=(0,s(1900).Z)(h,(function(){var t=this,e=t._self._c;return e(a.Z,{},[e(u.Z,[e(o.Z,[e("div",{staticClass:"display-1"},[t._v("Edit Blog")])])],1),t._v(" "),e(u.Z,[e(o.Z,{attrs:{cols:"12"}},[e(i.Z,{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(a.Z,{staticClass:"pa-0"},[e(u.Z,{attrs:{dense:""}},[e(o.Z,{attrs:{cols:"12"}},[e("label",{attrs:{for:""}},[t._v("Title")]),t._v(" "),e(p.Z,{attrs:{placeholder:"Enter Title",outlined:"",rules:t.required,dense:"","error-messages":t.errors.title,disabled:t.processing,loading:t.processing},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),e(o.Z,{attrs:{cols:"12"}},[e("label",{attrs:{for:""}},[t._v("Cover Image")]),t._v(" "),e(c.Z,{staticClass:"rounded-sm mb-3",attrs:{height:"350",src:t.imagePath}}),t._v(" "),e(l.Z,{attrs:{placeholder:"Edit Cover Image","show-size":!0,"counter-size-string":"2042",rules:t.required,outlined:"","small-chips":"",disabled:t.processing,loading:t.processing,"error-messages":t.errors.image,dense:""},model:{value:t.form.image,callback:function(e){t.$set(t.form,"image",e)},expression:"form.image"}})],1),t._v(" "),e(o.Z,[e("label",{attrs:{for:""}},[t._v("Status")]),t._v(" "),e(d.Z,{attrs:{items:t.published,"item-text":"status",outlined:"",dense:"","deletable-chips":"","item-value":"value","error-messages":t.errors.status,placeholder:"Select",disabled:t.processing,loading:t.processing,rules:t.required},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1),t._v(" "),e(o.Z,{attrs:{cols:"12"}},[e("label",{attrs:{for:""}},[t._v("Blog Content")]),t._v(" "),e("VueEditor",{attrs:{placeholder:"Type here..","error-messages":t.errors.content,disabled:t.processing},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}}),t._v(" "),t.errors.content?e("div",{staticClass:"error--text text-xs pt-2",domProps:{textContent:t._s(t.errors.content)}}):t._e()],1),t._v(" "),e(o.Z,{attrs:{cols:"12"}},[e("div",{staticClass:"grid space-x-3 justify-end"},[e(r.Z,{staticClass:"white--text",attrs:{elevation:"",left:"",color:" blue"},on:{click:t.update}},[e(n.Z,{attrs:{left:"",color:"white"}},[t._v("mdi-upload")]),t._v("\n                  Update Blog\n                ")],1)],1)])],1)],1)],1)],1)],1),t._v(" "),e(u.Z,[e(m.Z,{staticClass:"white--text",attrs:{timeout:t.timeout,color:t.color,tile:"",absolute:"",right:"",transition:"slide-x-reverse-transition"},model:{value:t.processing,callback:function(e){t.processing=e},expression:"processing"}},[e("div",{staticClass:"font-sembold text-lg",domProps:{textContent:t._s(t.text)}})])],1)],1)}),[],!1,null,null,null).exports}}]);